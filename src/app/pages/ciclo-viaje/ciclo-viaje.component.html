<h2 class="content-block">Ciclo de Viaje</h2>

<!-- Card principal  -->
<div class="content-block dx-card responsive-paddings padding-10">


    <dx-responsive-box>
        <!-- COLS -->
        <!--UDN-->
        <dxi-col [ratio]="4"></dxi-col>
        <dxi-col [ratio]="5"></dxi-col>
        <!--vacia-->
        <dxi-col [ratio]="1"></dxi-col>
        <!--tipo operacion -->
        <dxi-col [ratio]="3"></dxi-col>
        <dxi-col [ratio]="5"></dxi-col>
        <!--vacia-->
        <dxi-col [ratio]="1"></dxi-col>
        <!--cliente-->
        <dxi-col [ratio]="2"></dxi-col>
        <dxi-col [ratio]="5"></dxi-col>
        <!--vacia-->
        <dxi-col [ratio]=".25"></dxi-col>
        <!--Mes-->
        <dxi-col [ratio]=".30"></dxi-col>
        <dxi-col [ratio]=".80"></dxi-col>
        <!--vacia-->
        <dxi-col [ratio]=".25"></dxi-col>
        <!--Año-->
        <dxi-col [ratio]=".30"></dxi-col>
        <dxi-col [ratio]=".60"></dxi-col>
        <!--vacia-->
        <dxi-col [ratio]=".25"></dxi-col>
        <!--Tracto-->
        <dxi-col [ratio]=".40"></dxi-col>
        <dxi-col [ratio]="2"></dxi-col>
        <!--vacia-->
        <dxi-col [ratio]=".25"></dxi-col>
        <!--Buscar-->
        <dxi-col [ratio]="1"></dxi-col>
        

        <!-- ROWS -->
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>
        <dxi-row [ratio]="1"></dxi-row>

        <!-- CONTROLES DEL FORM -->
        <!--#region :::: ROW 1 DEL FORM ::::  -->
        <!--ROW 1 Unidad de Negocio -->
        <dxi-item>
            <dxi-location screen="md lg" [row]="0" [col]="0"></dxi-location>
            <dxi-location style="margin-top: 1rem" screen="xs sm" [row]="0" [col]="0" [colspan]="12"></dxi-location>
            <div>Unidad de Negocio:</div>
        </dxi-item>
        <dxi-item>
            <dxi-location screen="md lg" [row]="0" [col]="1"></dxi-location>
            <dxi-location style="margin-top: 0.5rem" screen="xs sm" [row]="1" [col]="0" [colspan]="12"></dxi-location>
            <dx-tag-box [items]="arrUnidadesNegocio" [showSelectionControls]="true" [maxDisplayedTags]="4" [dataSource]="arrUnidadesNegocio" displayExpr="ciudad" valueExpr="idUnidad" (onValueChanged)="seleccionarUDN($event)">
            </dx-tag-box>
        </dxi-item>

        <dxi-item>
            <dxi-location screen="md lg" [row]="0" [col]="3"></dxi-location>
            <dxi-location style="margin-top: 1rem" screen="xs sm" [row]="0" [col]="0" [colspan]="12"></dxi-location>
            <div>Tipo de Operación:</div>
        </dxi-item>
        <dxi-item>
            <dxi-location screen="md lg" [row]="0" [col]="4"></dxi-location>
            <dxi-location style="margin-top: 0.5rem" screen="xs sm" [row]="1" [col]="0" [colspan]="12"></dxi-location>
            <dx-tag-box [items]="arrUnidadesNegocio" [showSelectionControls]="true" [maxDisplayedTags]="4" [dataSource]="arrUnidadesNegocio" displayExpr="ciudad" valueExpr="idUnidad" (onValueChanged)="seleccionarUDN($event)">
            </dx-tag-box>
        </dxi-item>

        <dxi-item>
            <dxi-location screen="md lg" [row]="0" [col]="6"></dxi-location>
            <dxi-location style="margin-top: 1rem" screen="xs sm" [row]="0" [col]="0" [colspan]="12"></dxi-location>
            <div>Cliente:</div>
        </dxi-item>
        <dxi-item>
            <dxi-location screen="md lg" [row]="0" [col]="7"></dxi-location>
            <dxi-location style="margin-top: 0.5rem" screen="xs sm" [row]="1" [col]="0" [colspan]="12"></dxi-location>
            <dx-tag-box [items]="arrUnidadesNegocio" [showSelectionControls]="true" [maxDisplayedTags]="4" [dataSource]="arrUnidadesNegocio" displayExpr="ciudad" valueExpr="idUnidad" (onValueChanged)="seleccionarUDN($event)">
            </dx-tag-box>
        </dxi-item>

        <!-- MES -->
        <dxi-item>
            <dxi-location screen="md lg" [row]="1" [col]="0"></dxi-location>
            <dxi-location style="margin-top: 1rem" screen="xs sm" [row]="2" [col]="0" [colspan]="12"></dxi-location>
            <div>Mes:</div>
        </dxi-item>
        <dxi-item>
            <dxi-location screen="md lg" [row]="1" [col]="1"></dxi-location>
            <dxi-location style="margin-top: 0.5rem" screen="xs sm" [row]="3" [col]="0" [colspan]="12"></dxi-location>
            <dx-select-box [items]="arrMeses" displayExpr="nombre" valueExpr="idMes" (onValueChanged)="seleccionarMes($event)">
            </dx-select-box>
        </dxi-item>

        <!-- AÑO -->
        <dxi-item>
            <dxi-location screen="md lg" [row]="1" [col]="3"></dxi-location>
            <dxi-location style="margin-top: 1rem" screen="xs sm" [row]="10" [col]="0" [colspan]="12"></dxi-location>
            <div>Año:</div>
        </dxi-item>

        <dxi-item>
            <dxi-location screen="md lg" [row]="1" [col]="4"></dxi-location>
            <dxi-location style="margin-top: 0.5rem" screen="xs sm" [row]="11" [col]="0" [colspan]="12"></dxi-location>
            <dx-select-box [items]="arrAnos" displayExpr="anio" valueExpr="idAnio" (onValueChanged)="seleccionarAnio($event)">
            </dx-select-box>
        </dxi-item>

        <!-- TRACTO -->
        <dxi-item>
            <dxi-location screen="md lg" [row]="1" [col]="6"></dxi-location>
            <dxi-location style="margin-top: 1rem" screen="xs sm" [row]="10" [col]="0" [colspan]="12"></dxi-location>
            <div>Tracto:</div>
        </dxi-item>

        <dxi-item>
            <dxi-location screen="md lg" [row]="1" [col]="7"></dxi-location>
            <dxi-location style="margin-top: 0.5rem" screen="xs sm" [row]="11" [col]="0" [colspan]="12"></dxi-location>
            <div style="display: flex;">
              <dx-select-box #selectTracto id="selectTracto" style="width: 80%;"
              [items]="arrTractos"
              (onValueChanged)="seleccionarTracto($event)">
                  ></dx-select-box>
                  <div title="Borrar tracto">
                    <dx-button  icon="trash" [width]="20" (onClick)="borrarClick($event)" >
                    </dx-button>
                  </div>
            </div>
        </dxi-item>

        <!-- BUSCAR -->
        <dxi-item>
            <dxi-location screen="md lg" [row]="2" [col]="12"></dxi-location>
            <dxi-location style="margin-top: .20rem" screen="xs sm" [row]="12" [col]="0" [colspan]="12"></dxi-location>
            <div>
                <dx-button stylingMode="contained" text="Buscar" icon="search" type="normal" [width]="120" (onClick)="buscarClick($event)">
                </dx-button>
            </div>
        </dxi-item>
        <!--#endregion :::: FIN ROW 1 ::::  -->
    </dx-responsive-box>

    <dx-data-grid #rentCont2 id="gridContainer2" [dataSource]="arrRentContItems" [showColumnLines]="true" [rowAlternationEnabled]="true" [columnAutoWidth]="true" [allowColumnResizing]="true" [allowColumnReordering]="false" [columnAutoWidth]="true" [showBorders]="true"
        (onRowPrepared)="onRowPrepared($event)" (onContentReady)="onContentReady($event)" (onCellPrepared)="onCellPrepared($event)">
        
        <dxi-column caption="Viaje Salida" headerCellTemplate="headerTemplate">
            <dxi-column dataField="" caption="T. Salida Viaje" [fixed]="true" headerCellTemplate="headerTemplate"></dxi-column>
        </dxi-column>

                <!-- <dxi-column dataField="fake" [showInColumnChooser]="false" [fixed]="true" fixedPosition="left" [width]="0.01"></dxi-column>  -->

        <dxi-column caption="Viaje Cargado" headerCellTemplate="headerTemplate">
            <dxi-column dataField="" caption="No. Viaje" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Llegada Punto Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Tiempo Registo Viaje Cargado" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Llegada a Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Ingreso a Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espera Inicio Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espera Inicio Viaje" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Tránsito Destino" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espera Ingreso Descarga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espara Inicio descarga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Descarga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espera Cierre de Viaje" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Total" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Ruta" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>

        </dxi-column>

        <dxi-column caption="Viaje Siguiente Cargado" headerCellTemplate="headerTemplate">
            <dxi-column dataField="" caption="No.Viaje" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Punto Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Llegada Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Ingreso Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espera" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Carga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espera Salida" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Carga Diesel" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Tránsito Descarga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Espera Descarga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Descarga" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Total" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Ruta" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
        </dxi-column>

        <dxi-column caption="Viaje Retorno" headerCellTemplate="headerTemplate">
            <dxi-column dataField="" caption="Espera Despacho" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Retorno Base" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Total" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
        </dxi-column>

        <dxi-column caption="Viaje Gasolinera" headerCellTemplate="headerTemplate">
            <dxi-column dataField="" caption="Salida" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Llegada" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Retorno" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
            <dxi-column dataField="" caption="Total" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
        </dxi-column> 

        <dxi-column dataField="" caption="Total" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>
        <dxi-column dataField="" caption="Detalle" [fixed]="false" headerCellTemplate="headerTemplate"></dxi-column>


        <dxo-group-panel [visible]="false"></dxo-group-panel>
        <dxo-grouping #expand [autoExpandAll]="true"></dxo-grouping>

        <dxo-summary [calculateCustomSummary]="calcularPorcentajes">
          <!-- SUMARY TOTALES -->
            <dxi-total-item column="ingresoTotal" summaryType="sum" valueFormat="$ #,##0.##;-$ #,##0.##" displayFormat="{0}">
            </dxi-total-item>
            <dxi-total-item column="margenUtilida" summaryType="sum" valueFormat="$ #,##0.##;-$ #,##0.##" displayFormat="{0}">
            </dxi-total-item>
            <dxi-total-item column="fin" summaryType="sum" displayFormat="TOTAL UDN'S">
            </dxi-total-item>
            <dxi-total-item column="diasViaje" summaryType="sum" valueFormat="fixedPoint" displayFormat="{0}">
            </dxi-total-item>
            <dxi-total-item column="viajes" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint">
            </dxi-total-item>
            <dxi-total-item column="kmsCargados" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint">
            </dxi-total-item>
            <dxi-total-item column="kmsVacios" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint">
            </dxi-total-item>
            <dxi-total-item column="lstDiesel" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint">
            </dxi-total-item>
            <dxi-total-item column="combustible" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="casetas" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="sueldosLiquidacion" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="otros" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="costosDirectosViaje" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="sueldoBase" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="cargaSocialNomina" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="fijoMtto" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="varMtto" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="fijoTrans" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="varTrans" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>
            <dxi-total-item column="costosAdicionales" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##">
            </dxi-total-item>



          <!-- PORCENTAJES TOTALES -->
            <dxi-total-item showInColumn="margenUtilidaPor" name="TotMargenUtilidaPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="combustiblePor" name="TotCombustiblePor" summaryType="custom" displayFormat="*{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="casetasPor" name="TotCasetasPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="sueldosLiquidacionPor" name="TotSueldosLiquidacionPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="otrosPor" name="TotOtrosPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="costosDirectosViajePor" name="TotCostosDirectosViajePor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="sueldoBasePor" name="TotSueldoBasePor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="cargaSocialNominaPor" name="TotCargaSocialNominaPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="fijoMttoPor" name="TotFijoMttoPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="varMttoPor" name="TotVarMttoPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="fijoTransPor" name="TotFijoTransPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="varTransPor" name="TotVarTransPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>
            <dxi-total-item showInColumn="costosAdicionalesPor" name="TotCostosAdicionalesPor" summaryType="custom" displayFormat="{0}" valueFormat="percent">
            </dxi-total-item>


          <!-- SUMARY DE GRUPO -->
            <dxi-group-item column="margenUtilida" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="diasViaje" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="viajes" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="kmsCargados" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="kmsVacios" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="lstDiesel" summaryType="sum" displayFormat="{0}" valueFormat="fixedPoint" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="ingresoTotal" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="combustible" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="casetas" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="sueldosLiquidacion" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="otros" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="costosDirectosViaje" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="sueldoBase" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="cargaSocialNomina" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="fijoMtto" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="varMtto" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="fijoTrans" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="varTrans" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item column="costosAdicionales" summaryType="sum" displayFormat="{0}" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="fin"column="fin" summaryType="sum" displayFormat="SUBTOTAL" valueFormat="$ #,###,###.##;-$ #,##0.##" [showInGroupFooter]="true">
            </dxi-group-item>
            <!-- PORCENTAJES GRUPO -->
            <dxi-group-item showInColumn="margenUtilidaPor" name="grupMargenUtilidaPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="combustiblePor" name="grupCombustiblePor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="casetasPor" name="grupCasetasPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="sueldosLiquidacionPor" name="grupSueldosLiquidacionPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="otrosPor" name="grupOtrosPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="costosDirectosViajePor" name="grupCostosDirectosViajePor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="sueldoBasePor" name="grupSueldoBasePor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="cargaSocialNominaPor" name="grupCargaSocialNominaPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="fijoMttoPor" name="grupFijoMttoPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="varMttoPor" name="grupVarMttoPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="fijoTransPor" name="grupFijoTransPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="varTransPor" name="grupVarTransPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
            <dxi-group-item showInColumn="costosAdicionalesPor" name="grupCostosAdicionalesPor" summaryType="custom" displayFormat="{0}" valueFormat="percent" [showInGroupFooter]="true">
            </dxi-group-item>
        </dxo-summary>

        <div *dxTemplate="let data of 'headerTemplate'">
            <div style="font-weight: bolder; color: black">
                {{ data.column.caption }}
            </div>
        </div>
        <div *dxTemplate="let cell of 'cellTemplateBold'">
            <div style="font-weight: bold;">{{cell.text}}</div>
        </div>
        <dxo-export [enabled]="true"></dxo-export>
        <dxo-paging [pageSize]="10"></dxo-paging>
        <dxo-pager [visible]="true" [allowedPageSizes]="allowedPageSizes" displayMode="full" [showPageSizeSelector]="true" [showInfo]="true" [showNavigationButtons]="true">
        </dxo-pager>
        <dxo-sorting mode="none"></dxo-sorting>
    </dx-data-grid>


    <!--==========================MODAL REAL=========================================================-->
    <dx-popup
    width="99%" [height]="400" [showTitle]="true" title="Detalle de Real" [dragEnabled]="false" [closeOnOutsideClick]="true"
    [showCloseButton]="true" container=".dx-viewport" [(visible)]="openModal">
    <dxo-position at="middle" my="center" [of]="positionOf"> </dxo-position>
    <div *dxTemplate="let data of 'content'">
      <!--#region :::: GRID DETALLE DE REAL ::::  -->
      <dx-data-grid #rentGer id="gridContainer" [dataSource]="DestalleCuenta" [columnAutoWidth]="true" [showColumnLines]="true"
        [showBorders]="true" [rowAlternationEnabled]="true">
        
        <dxi-column dataField="" caption="Area" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="No. Viaje" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Unidad" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Estatus Viaje" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Ini. Estatus" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Usuario" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Tipo Seg" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Descripcion" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Nombre Estatus Viaje" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Ruta" [fixed]="false"></dxi-column>
        <dxi-column dataField="" caption="Tiempos" [fixed]="false"></dxi-column>
        
      <!-- Templates Grid -->
        <div *dxTemplate="let data of 'headerTemplate'">
          <div style="font-weight: bolder; color: black">
            {{ data.column.caption }}
          </div>
        </div>

        <div *dxTemplate="let info of 'titleHeaderTemplate'">
          <div style="font-weight: bolder; color: #ff5722">
            {{ info.column.caption }}
          </div>
        </div>

        <div
          *dxTemplate="let d of 'diffCellTemplate'"
          [class]="d.text >= 0 ? 'inc' : 'dec'"
        >
          <div class="diff"></div>
        </div>

        <dxo-export [enabled]="true"></dxo-export>
        <dxo-paging [pageSize]="30"></dxo-paging>
        <dxo-sorting mode="none"></dxo-sorting>
      </dx-data-grid>

    </div>
  </dx-popup>
<!--=============================================FIN MODAL==========================================-->


    <!-- LOAD PANEL -->
    <dx-load-panel #loadPanel shadingColor="rgba(0,0,0,0.4)" [position]="{ of: '#rentCont2' }" [(visible)]="loadingVisible" [showIndicator]="true" [showPane]="true" [shading]="true" [closeOnOutsideClick]="false" (onShown)="onShown()" (onHidden)="onHidden()">
    </dx-load-panel>
</div>

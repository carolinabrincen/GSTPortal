<h2 class="content-block">Validación Ingreso</h2>

<div class="content-block dx-card responsive-paddings padding-10">

    <dx-tab-panel>
        <dxi-item title="Validar Carta Porte">
            <dx-data-grid  #ER id="gridContainer2" [dataSource]="validacionI" [height]="700"[showBorders]="true" [columnAutoWidth]="true"
            (onRowPrepared)="onRowPreparedCAER($event)" (onCellPrepared)="onCellPreparedCAER($event)">

              <dxo-scrolling mode="virtual" rowRenderingMode="virtual"></dxo-scrolling>
              <dxo-paging [pageSize]="100"></dxo-paging>
              <dxo-search-panel [visible]="true" [width]="240" placeholder="Buscar..."></dxo-search-panel>
              <dxo-export [enabled]="true" fileName="Validación-Ingreso"></dxo-export>

                <dxi-column dataField="udn" caption="UdN"></dxi-column>
                <dxi-column dataField="numGuia" caption="Num. Guía"></dxi-column>
                <dxi-column dataField="cliente" caption="cliente"></dxi-column>
                <dxi-column dataField="flete" caption="flete" format="$ #,##0.##;-$ #,##0.##"></dxi-column>

                <dxi-column dataField="" caption="Validar" [fixed]="false" cellTemplate="detalleCellTemplate"></dxi-column>

                <div *dxTemplate="let data of 'detalleCellTemplate'">
                    <dx-button icon="check" stylingMode="outlined" type="warning" (onClick)="verDetallesClick(data)"></dx-button>
                </div>


            </dx-data-grid>
        </dxi-item>

        <dxi-item title="Clientes Válidos">
            <dx-data-grid  #ER id="gridContainer2" [dataSource]="clientesV" [height]="700"[showBorders]="true" [columnAutoWidth]="true"
            (onRowPrepared)="onRowPreparedCAER($event)" (onCellPrepared)="onCellPreparedCAER($event)">

              <dxo-scrolling mode="virtual" rowRenderingMode="virtual"></dxo-scrolling>
              <dxo-paging [pageSize]="100"></dxo-paging>
              <dxo-search-panel [visible]="true" [width]="240" placeholder="Buscar..."></dxo-search-panel>
              <dxo-export [enabled]="true" fileName="Clientes-Validos"></dxo-export>

                <dxi-column dataField="id" caption="ID"></dxi-column>
                <dxi-column dataField="cliente" caption="Cliente"></dxi-column>
                <dxi-column dataField="fechaIngreso" caption="Fecha ingresó"></dxi-column>
                <dxi-column dataField="solicito" caption="Solicitó"></dxi-column>

            </dx-data-grid>
        </dxi-item>

    </dx-tab-panel>    

<!--==========================MODAL REAL=========================================================-->
<dx-popup width="30%" height="40%" [showTitle]="true" title="Validación" [dragEnabled]="false" [closeOnOutsideClick]="true" [showCloseButton]="true" container=".dx-viewport" [(visible)]="modValidacion">
    <!-- <dxo-position at="middle" my="center" [of]="positionOf"> </dxo-position>  -->


    <div *dxTemplate="let data of 'content'">
        <dx-scroll-view width="100%" height="100%">


            <form action="your-action" (submit)="onFormSubmit($event)">
                <dx-form
                  id="form"
                  [formData]="customer"
                  [readOnly]="false"
                  [showColonAfterLabel]="true"
                  [showValidationSummary]="true"
                  validationGroup="customerData"
                >
                  <dxi-item itemType="group">

                    <dxi-item name="ConfirmPassword" editorType="dxTextBox" [editorOptions]="confirmOptions" >
                      <dxo-label text="contraseña"> </dxo-label>
                      <dxi-validation-rule type="required" message="Contraseña es requerido" >
                      </dxi-validation-rule>
                    </dxi-item>
                  </dxi-item>

                  <dxi-item
                    itemType="button"
                    horizontalAlignment="left"
                    [buttonOptions]="buttonOptions"
                  >
                  </dxi-item>
                </dx-form>
              </form>
              
        

        </dx-scroll-view>
    </div>
</dx-popup>
<!--=============================================FIN MODAL==========================================-->

            

    <!-- LOAD PANEL -->
    <dx-load-panel #loadPanel shadingColor="rgba(0,0,0,0.4)" [position]="{ of: '#rentCont2' }" [(visible)]="loadingVisible" [showIndicator]="true" [showPane]="true" [shading]="true" [closeOnOutsideClick]="false" (onShown)="onShown()" (onHidden)="onHidden()">
    </dx-load-panel>

    <dx-toast [(visible)]="isVisible" type="warning" message="Seleccione Año y Mes">  
        <dxo-position
            my="top"
            at="right"
            of="#container">
        </dxo-position>
    </dx-toast>
</div>
